import type {
  DataTag,
  DefinedInitialDataOptions,
  DefinedUseQueryResult,
  QueryClient,
  QueryFunction,
  QueryKey,
  UndefinedInitialDataOptions,
  UseQueryOptions,
  UseQueryResult,
} from '@tanstack/react-query';

/**
 * Generated by orval v7.17.0 üç∫
 * Do not edit manually.
 * Pok√©API
 * All the Pok√©mon data you'll ever need in one place, easily accessible through a modern free open-source RESTful API.

## What is this?

This is a full RESTful API linked to an extensive database detailing everything about the Pok√©mon main game series.

We've covered everything from Pok√©mon to Berry Flavors.

## Where do I start?

We have awesome [documentation](https://pokeapi.co/docs/v2) on how to use this API. It takes minutes to get started.

This API will always be publicly available and will never require any extensive setup process to consume.

Created by [**Paul Hallett**](https://github.com/phalt) and other [**Pok√©API contributors***](https://github.com/PokeAPI/pokeapi#contributing) around the world. Pok√©mon and Pok√©mon character names are trademarks of Nintendo.
    
 * OpenAPI spec version: 2.7.0
 */
import { useQuery } from '@tanstack/react-query';

import type { ApiV2MachineListParams as ApiV2MachineListParameters } from './schemas/api-v2-machine-list-params';
import type { MachineDetail } from './schemas/machine-detail';
import type { PaginatedMachineSummaryList } from './schemas/paginated-machine-summary-list';

export type apiV2MachineListResponse = apiV2MachineListResponseSuccess;

/**
 * Machines are the representation of items that teach moves to Pok√©mon. They vary from version to version, so it is not certain that one specific TM or HM corresponds to a single Machine.
 * @summary List machines
 */
export type apiV2MachineListResponse200 = {
  data: PaginatedMachineSummaryList;
  status: 200;
};
export type apiV2MachineListResponseSuccess = {
  headers: Headers;
} & apiV2MachineListResponse200;

export const getApiV2MachineListUrl = (parameters?: ApiV2MachineListParameters) => {
  const normalizedParameters = new URLSearchParams();

  for (const [key, value] of Object.entries(parameters || {})) {
    if (value !== undefined) {
      normalizedParameters.append(key, value === null ? 'null' : value.toString());
    }
  }

  const stringifiedParameters = normalizedParameters.toString();

  return stringifiedParameters.length > 0
    ? `/api/v2/machine/?${stringifiedParameters}`
    : `/api/v2/machine/`;
};

export const apiV2MachineList = async (
  parameters?: ApiV2MachineListParameters,
  options?: RequestInit,
): Promise<apiV2MachineListResponse> => {
  const res = await fetch(getApiV2MachineListUrl(parameters), {
    ...options,
    method: 'GET',
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();

  const data: apiV2MachineListResponse['data'] = body ? JSON.parse(body) : {};
  return { data, headers: res.headers, status: res.status } as apiV2MachineListResponse;
};

export const getApiV2MachineListQueryKey = (parameters?: ApiV2MachineListParameters) => {
  return [`/api/v2/machine/`, ...(parameters ? [parameters] : [])] as const;
};

export const getApiV2MachineListQueryOptions = <
  TData = Awaited<ReturnType<typeof apiV2MachineList>>,
  TError = unknown,
>(
  parameters?: ApiV2MachineListParameters,
  options?: {
    fetch?: RequestInit;
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineList>>, TError, TData>>;
  },
) => {
  const { fetch: fetchOptions, query: queryOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getApiV2MachineListQueryKey(parameters);

  const queryFunction: QueryFunction<Awaited<ReturnType<typeof apiV2MachineList>>> = ({ signal }) =>
    apiV2MachineList(parameters, { signal, ...fetchOptions });

  return { queryFn: queryFunction, queryKey, ...queryOptions } as {
    queryKey: DataTag<QueryKey, TData, TError>;
  } & UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineList>>, TError, TData>;
};

export type ApiV2MachineListQueryError = unknown;
export type ApiV2MachineListQueryResult = NonNullable<Awaited<ReturnType<typeof apiV2MachineList>>>;

export type apiV2MachineRetrieveResponse = apiV2MachineRetrieveResponseSuccess;
/**
 * Machines are the representation of items that teach moves to Pok√©mon. They vary from version to version, so it is not certain that one specific TM or HM corresponds to a single Machine.
 * @summary Get machine
 */
export type apiV2MachineRetrieveResponse200 = {
  data: MachineDetail;
  status: 200;
};
export type apiV2MachineRetrieveResponseSuccess = {
  headers: Headers;
} & apiV2MachineRetrieveResponse200;
/**
 * @summary List machines
 */

export function useApiV2MachineList<
  TData = Awaited<ReturnType<typeof apiV2MachineList>>,
  TError = unknown,
>(
  parameters: ApiV2MachineListParameters | undefined,
  options: {
    fetch?: RequestInit;
    query: Partial<UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineList>>, TError, TData>> &
      Pick<
        DefinedInitialDataOptions<
          Awaited<ReturnType<typeof apiV2MachineList>>,
          TError,
          Awaited<ReturnType<typeof apiV2MachineList>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & DefinedUseQueryResult<TData, TError>;

export function useApiV2MachineList<
  TData = Awaited<ReturnType<typeof apiV2MachineList>>,
  TError = unknown,
>(
  parameters?: ApiV2MachineListParameters,
  options?: {
    fetch?: RequestInit;
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineList>>, TError, TData>> &
      Pick<
        UndefinedInitialDataOptions<
          Awaited<ReturnType<typeof apiV2MachineList>>,
          TError,
          Awaited<ReturnType<typeof apiV2MachineList>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & UseQueryResult<TData, TError>;

export function useApiV2MachineList<
  TData = Awaited<ReturnType<typeof apiV2MachineList>>,
  TError = unknown,
>(
  parameters?: ApiV2MachineListParameters,
  options?: {
    fetch?: RequestInit;
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineList>>, TError, TData>>;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & UseQueryResult<TData, TError>;
export function useApiV2MachineList<
  TData = Awaited<ReturnType<typeof apiV2MachineList>>,
  TError = unknown,
>(
  parameters?: ApiV2MachineListParameters,
  options?: {
    fetch?: RequestInit;
    query?: Partial<UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineList>>, TError, TData>>;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & UseQueryResult<TData, TError> {
  const queryOptions = getApiV2MachineListQueryOptions(parameters, options);

  const query = useQuery(queryOptions, queryClient) as {
    queryKey: DataTag<QueryKey, TData, TError>;
  } & UseQueryResult<TData, TError>;

  query.queryKey = queryOptions.queryKey;

  return query;
}

export const getApiV2MachineRetrieveUrl = (id: string) => {
  return `/api/v2/machine/${id}/`;
};

export const apiV2MachineRetrieve = async (
  id: string,
  options?: RequestInit,
): Promise<apiV2MachineRetrieveResponse> => {
  const res = await fetch(getApiV2MachineRetrieveUrl(id), {
    ...options,
    method: 'GET',
  });

  const body = [204, 205, 304].includes(res.status) ? null : await res.text();

  const data: apiV2MachineRetrieveResponse['data'] = body ? JSON.parse(body) : {};
  return { data, headers: res.headers, status: res.status } as apiV2MachineRetrieveResponse;
};

export const getApiV2MachineRetrieveQueryKey = (id?: string) => {
  return [`/api/v2/machine/${id}/`] as const;
};

export const getApiV2MachineRetrieveQueryOptions = <
  TData = Awaited<ReturnType<typeof apiV2MachineRetrieve>>,
  TError = unknown,
>(
  id: string,
  options?: {
    fetch?: RequestInit;
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineRetrieve>>, TError, TData>
    >;
  },
) => {
  const { fetch: fetchOptions, query: queryOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getApiV2MachineRetrieveQueryKey(id);

  const queryFunction: QueryFunction<Awaited<ReturnType<typeof apiV2MachineRetrieve>>> = ({
    signal,
  }) => apiV2MachineRetrieve(id, { signal, ...fetchOptions });

  return { enabled: !!id, queryFn: queryFunction, queryKey, ...queryOptions } as {
    queryKey: DataTag<QueryKey, TData, TError>;
  } & UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineRetrieve>>, TError, TData>;
};

export type ApiV2MachineRetrieveQueryError = unknown;
export type ApiV2MachineRetrieveQueryResult = NonNullable<
  Awaited<ReturnType<typeof apiV2MachineRetrieve>>
>;

export function useApiV2MachineRetrieve<
  TData = Awaited<ReturnType<typeof apiV2MachineRetrieve>>,
  TError = unknown,
>(
  id: string,
  options: {
    fetch?: RequestInit;
    query: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineRetrieve>>, TError, TData>
    > &
      Pick<
        DefinedInitialDataOptions<
          Awaited<ReturnType<typeof apiV2MachineRetrieve>>,
          TError,
          Awaited<ReturnType<typeof apiV2MachineRetrieve>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & DefinedUseQueryResult<TData, TError>;
export function useApiV2MachineRetrieve<
  TData = Awaited<ReturnType<typeof apiV2MachineRetrieve>>,
  TError = unknown,
>(
  id: string,
  options?: {
    fetch?: RequestInit;
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineRetrieve>>, TError, TData>
    > &
      Pick<
        UndefinedInitialDataOptions<
          Awaited<ReturnType<typeof apiV2MachineRetrieve>>,
          TError,
          Awaited<ReturnType<typeof apiV2MachineRetrieve>>
        >,
        'initialData'
      >;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & UseQueryResult<TData, TError>;
export function useApiV2MachineRetrieve<
  TData = Awaited<ReturnType<typeof apiV2MachineRetrieve>>,
  TError = unknown,
>(
  id: string,
  options?: {
    fetch?: RequestInit;
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineRetrieve>>, TError, TData>
    >;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & UseQueryResult<TData, TError>;
/**
 * @summary Get machine
 */

export function useApiV2MachineRetrieve<
  TData = Awaited<ReturnType<typeof apiV2MachineRetrieve>>,
  TError = unknown,
>(
  id: string,
  options?: {
    fetch?: RequestInit;
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof apiV2MachineRetrieve>>, TError, TData>
    >;
  },
  queryClient?: QueryClient,
): { queryKey: DataTag<QueryKey, TData, TError> } & UseQueryResult<TData, TError> {
  const queryOptions = getApiV2MachineRetrieveQueryOptions(id, options);

  const query = useQuery(queryOptions, queryClient) as {
    queryKey: DataTag<QueryKey, TData, TError>;
  } & UseQueryResult<TData, TError>;

  query.queryKey = queryOptions.queryKey;

  return query;
}
